<?php
/*
 * All Code Confidential and Proprietary, Copyright Â©2011 Kaltura, Inc.
 * To learn more: http://corp.kaltura.com/Products/Video-Applications/Kaltura-Mediaspace-Video-Portal
*/
/**
 * @ignore
 */

?>
if($('#dialog')) {
    $("body").append('<div id="dialog"></div>');
}
<?php 

echo new Zend_Json_Expr("$('#dialog').html(\"".(addcslashes(str_replace(array("\r\n", "\n", "\r"), '', $this->form->render()), '\"'))."\");") 
        
        ?>

<?php
    $this->dialogContainer(
        'dialog',
        $this->headerText,
        array(
            'width'         => '350px',
            'autoOpen'      => true,
            'draggable'     => false,
            'modal'         => true,
            'resizable'     => false,
            'title'         => $this->headerText,
            'closeOnEscape' => true,
            'close' => new Zend_Json_Expr('function() {
                $("#dialog").remove();
            }'),
            'buttons'   => array(
                $this->translate('Save') =>  new Zend_Json_Expr('function() {
                    $(\'#userForm\').submit();
                }'),
                $this->translate('Cancel') => new Zend_Json_Expr('function() {
                    $(this).dialog(\'close\');
                }')
            ),
     )
    );


    $actions = $this->JQuery()->getOnLoadActions();

    $this->JQuery()->disable();

    foreach($actions as $action)
    {
        echo $action;
    }
?>
